(this.webpackJsonpsuppCalc=this.webpackJsonpsuppCalc||[]).push([[0],{25:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var s=a(2),n=a.n(s),i=a(19),r=a.n(i),h=a(20),l=a(4),c=a(5),d=a(1),o=a(7),p=a(6),b=(a(25),a(0)),u=function(e){Object(o.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleSubmit=s.handleSubmit.bind(Object(d.a)(s)),s.handleChange=s.handleChange.bind(Object(d.a)(s)),s}return Object(c.a)(a,[{key:"handleChange",value:function(e){this.props.handleInputChange(e.target)}},{key:"handleSubmit",value:function(e){this.props.handleFormSubmit(e)}},{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(b.jsxs)("div",{className:"form-group m-1",children:[Object(b.jsx)("label",{className:"m-1",htmlFor:"supplement",children:"Supplement"}),Object(b.jsx)("input",{type:"text",className:"form-control m-1",name:"supplement",id:"supplement",placeholder:"Enter supplement name",value:this.props.supplement||"",onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{className:"m-1",htmlFor:"cost",children:"Cost"}),Object(b.jsx)("input",{type:"number",className:"form-control m-1",name:"cost",id:"cost",placeholder:"Enter cost of supplement",value:this.props.cost||"",onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{className:"m-1",htmlFor:"servings",children:"Servings"}),Object(b.jsx)("input",{type:"number",className:"form-control m-1",name:"servings",id:"servings",placeholder:"Enter number of servings",value:this.props.servings||"",onChange:this.handleChange})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{className:"m-1",htmlFor:"servingsPerDay",children:"Servings per Day"}),Object(b.jsx)("input",{type:"number",className:"form-control m-1",name:"servingsPerDay",id:"servingsPerDay",placeholder:"Enter number of servings per day",value:this.props.servingsPerDay||"",onChange:this.handleChange})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary m-1",children:"Add Row"})]})})}}]),a}(n.a.Component),j=function(e){Object(o.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleSubmit=s.handleSubmit.bind(Object(d.a)(s)),s.handleChange=s.handleChange.bind(Object(d.a)(s)),s.handleUpdate=s.handleUpdate.bind(Object(d.a)(s)),s.handleUpdate=s.handleDelete.bind(Object(d.a)(s)),s}return Object(c.a)(a,[{key:"handleSubmit",value:function(){this.props.handleShareSubmit()}},{key:"handleChange",value:function(e){this.props.handleInputChange(e.target)}},{key:"handleUpdate",value:function(){this.props.handleShareUpdate()}},{key:"handleDelete",value:function(){this.props.handleShareDelete()}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"m-1",htmlFor:"summaryDescription",children:"Supplement List Description"}),Object(b.jsx)("input",{type:"textarea",className:"form-control m-1",name:"summaryDescription",id:"summaryDescription",placeholder:"Anything to say about this list?",value:this.props.summaryDescription||"",onChange:this.handleChange})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"form-check-input m-1",type:"checkbox",name:"editable",id:"editable",value:this.props.editable,checked:this.props.editable,onChange:this.handleChange}),Object(b.jsx)("label",{className:"form-check-label",htmlFor:"editable",children:"Should this list be editable?"})]})]}),Object(b.jsxs)("div",{className:"btn-toolbar",children:[""===this.props.shareId&&Object(b.jsx)("button",{className:"btn btn-primary m-1",onClick:this.props.handleShareSubmit,children:"Create Shareable Link"}),Object(b.jsx)("span",{className:"m-1",id:"shareId",onClick:function(){navigator.clipboard.writeText(e.props.shareUrl)}})]}),""!==this.props.shareId&&Object(b.jsxs)("div",{className:"btn-toolbar",children:[Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"btn btn-warning m-1",onClick:this.props.handleShareUpdate,children:"Update Shared List"})}),this.props.editable&&Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"btn btn-danger m-1",onClick:this.props.handleShareDelete,children:"Delete Share"})})]})]})}}]),a}(n.a.Component),m=function(e){Object(o.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(b.jsxs)("table",{className:"table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Supplement"}),Object(b.jsx)("th",{scope:"col",children:"Cost"}),Object(b.jsx)("th",{scope:"col",children:"Number of Servings"}),Object(b.jsx)("th",{scope:"col",children:"Servings Per Day"}),Object(b.jsx)("th",{scope:"col",children:"Cost Per Day"}),Object(b.jsx)("th",{scope:"col"})]})}),Object(b.jsx)("tbody",{id:"tableBody",children:this.props.rows.map((function(t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t.supplement}),Object(b.jsx)("td",{children:t.cost}),Object(b.jsx)("td",{children:t.servings}),Object(b.jsx)("td",{children:t.servingsPerDay}),Object(b.jsx)("td",{children:parseFloat(t.costPerDay).toFixed(2)}),Object(b.jsxs)("td",{children:[Object(b.jsx)("button",{className:"btn",onClick:function(){return e.props.editRow(t)},children:"edit"}),Object(b.jsx)("button",{type:"button",className:"btn","aria-label":"delete",onClick:function(){return e.props.handleDelete(t.id)},children:"remove"})]})]},t.id)}))}),Object(b.jsx)("tfoot",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{}),Object(b.jsx)("td",{}),Object(b.jsx)("td",{}),Object(b.jsx)("td",{children:"Total: "}),Object(b.jsxs)("td",{children:["$ ",parseFloat(this.props.total).toFixed(2)]}),Object(b.jsx)("td",{})]})})]})}}]),a}(n.a.Component),v=a(54),g=function(e){Object(o.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleNew=s.handleNew.bind(Object(d.a)(s)),s.handleFind=s.handleFind.bind(Object(d.a)(s)),s.handleGet=s.handleGet.bind(Object(d.a)(s)),s.handleChange=s.handleChange.bind(Object(d.a)(s)),s}return Object(c.a)(a,[{key:"handleNew",value:function(){this.props.handleNewShare()}},{key:"handleFind",value:function(){this.props.handleFindShare()}},{key:"handleGet",value:function(){this.props.handleGetShare()}},{key:"handleChange",value:function(e){this.props.handleInputChange(e.target)}},{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"m-1",children:[Object(b.jsx)("h1",{children:"This calculates your daily expenditure on supplements"}),Object(b.jsx)("p",{children:"Enter in supplement cost information and click 'Add' to start your list"}),Object(b.jsx)("p",{children:"Clicking 'Create Shareable Link' will save this information and it can be shared to anyone"})]}),Object(b.jsxs)("div",{className:"btn btn-group",children:[Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"btn btn-primary m-1",name:"newShare",id:"newShare",onClick:this.handleNew,children:"Create a New List"})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"btn btn-primary m-1",name:"findShare",id:"findShare",onClick:this.handleFind,children:"Find a List"})})]}),!this.props.newShare&&this.props.findShare&&Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"m-1",htmlFor:"shareId",children:"Enter an Id"}),Object(b.jsx)("input",{type:"test",className:"form-control m-1",name:"shareId",id:"shareId",placeholder:"Enter an Id to pull up a shared supplement list",value:this.props.shareId||"",onChange:this.handleChange}),Object(b.jsx)("button",{className:"btn btn-primary m-1",name:"getShare",id:"getShare",onClick:this.handleGet,children:"Get This List"})]})]})}}]),a}(n.a.Component),O=function(){return Object(b.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(b.jsx)("span",{className:"navbar-brand",children:"SuppCalc"}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})})]})},y=function(){return Object(b.jsx)("div",{className:"loading",children:Object(b.jsx)("p",{children:"LOADING..."})})},S=function(e){return Object(b.jsx)("div",{className:"error",children:Object(b.jsxs)("p",{children:["There was an error: ",e.errorMsg]})})},x=a(27);a(46).config();var f=function(e){Object(o.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={supplement:"",cost:0,servings:0,servingsPerDay:0,costPerDay:0,total:0,rows:[],shareId:"",shareUrl:"",editable:!0,summaryDescription:"",loading:!1,error:!1,errorMsg:"",newShare:!1,loadShare:!1,findShare:!1},s.makeApi.bind(Object(d.a)(s)),s}return Object(c.a)(a,[{key:"handleNewShare",value:function(){this.setState({supplement:"",cost:0,servings:0,servingsPerDay:0,costPerDay:0,total:0,rows:[],shareId:"",editable:!1,summaryDescription:"",newShare:!0}),this.populateShare("")}},{key:"handleFindShare",value:function(){this.setState({supplement:"",cost:0,servings:0,servingsPerDay:0,costPerDay:0,total:0,rows:[],shareId:"",editable:!1,summaryDescription:"",newShare:!1,findShare:!0}),this.populateShare("")}},{key:"handleShareSubmit",value:function(){var e={};e.rows=this.state.rows,e.description=this.state.summaryDescription,e.editable=this.state.editable,e.id=Object(v.a)(),this.makeApi("post",e,""),this.populateShare(e.id)}},{key:"handleShareUpdate",value:function(){var e={};e.rows=this.state.rows,e.id=this.state.shareId,e.description=this.state.summaryDescription,e.editable=this.state.editable,this.makeApi("put",e,e.id),this.populateShare(e.id)}},{key:"handleGetShare",value:function(){var e=this.state.shareId;this.makeApi("get",null,e)}},{key:"handleShareDelete",value:function(){var e={};e.id=this.state.shareId,this.makeApi("delete",null,e.id)}},{key:"handleInputChange",value:function(e){var t="checkbox"===e.type?e.checked:e.value,a=e.name;this.setState(Object(h.a)({},a,t))}},{key:"handleFormSubmit",value:function(e){e.preventDefault();var t=this.calculate();this.addNewRow(),this.setState({total:this.state.total+t,supplement:"",cost:0,servings:0,servingsPerDay:0})}},{key:"handleResetError",value:function(){this.setState({error:!1,errorMsg:""})}},{key:"populateShare",value:function(e){var t,a=document.getElementById("shareId");""!==e&&(t=window.location.hostname,a.innerText="".concat(t,"/").concat(e)),this.setState({shareId:e})}},{key:"editRow",value:function(e){var t=this.state.rows;t=t.filter((function(t){return t.id!==e.id})),this.setState({supplement:e.supplement,cost:e.cost,servings:e.servings,servingsPerDay:e.servingsPerDay,rows:t,total:this.getSum(t)})}},{key:"handleDelete",value:function(e){var t=this.state.rows;t=t.filter((function(t){return t.id!==e})),this.setState({rows:t,total:this.getSum(t)})}},{key:"addNewRow",value:function(){var e=this.state.rows;e.push({id:Object(v.a)(),supplement:this.state.supplement,cost:this.state.cost,servings:this.state.servings,servingsPerDay:this.state.servingsPerDay,costPerDay:this.calculate()}),this.setState({rows:e})}},{key:"calculate",value:function(){return parseFloat(this.state.cost)/parseFloat(this.state.servings)*parseFloat(this.state.servingsPerDay)}},{key:"getSum",value:function(e){var t=0;return e.length>0&&e.forEach((function(e){return t+=e.costPerDay})),t}},{key:"makeApi",value:function(e,t,a){var s,n=this;this.handleResetError(),null!==t&&(s=JSON.stringify(t));var i="https://supp-api.herokuapp.com/share";""!==a&&(i="".concat(i,"/").concat(a));var r={method:e,url:i,headers:{"Content-Type":"application/json"},data:s};this.setState({loading:!0}),x(r).then((function(t){if("get"===e){var a=t.data;n.handleApiResponse(a)}})).catch((function(e){console.log(e),n.setState({error:!0,errorMsg:e.message})})).finally((function(){n.setState({loading:!1,loadShare:!0})}))}},{key:"handleApiResponse",value:function(e){if(e){var t=e.rows.map((function(e){return{id:e.id,supplement:e.supplement,cost:e.cost,servings:e.servings,servingsPerDay:e.servingsPerDay,costPerDay:e.costPerDay}}));this.setState({editable:e.editable,summaryDescription:e.description,rows:t,total:this.getSum(t)}),this.populateShare(e.id)}}},{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(O,{}),this.state.error&&Object(b.jsx)(S,{errorMsg:this.state.errorMsg,handleResetError:this.handleResetError.bind(this)}),Object(b.jsx)(g,{handleNewShare:this.handleNewShare.bind(this),handleFindShare:this.handleFindShare.bind(this),handleGetShare:this.handleGetShare.bind(this),handleInputChange:this.handleInputChange.bind(this),shareId:this.state.shareId,newShare:this.state.newShare,loadShare:this.state.loadShare,findShare:this.state.findShare}),(this.state.loadShare||this.state.newShare)&&Object(b.jsxs)("div",{children:[Object(b.jsx)(j,{rows:this.state.rows,handleShareSubmit:this.handleShareSubmit.bind(this),handleInputChange:this.handleInputChange.bind(this),handleShareUpdate:this.handleShareUpdate.bind(this),handleShareDelete:this.handleShareDelete.bind(this),shareId:this.state.shareId,shareUrl:this.state.shareUrl,summaryDescription:this.state.summaryDescription,editable:this.state.editable}),!this.state.loading&&Object(b.jsx)(m,{total:this.state.total,rows:this.state.rows,editRow:this.editRow.bind(this),handleDelete:this.handleDelete.bind(this)}),this.state.loading&&Object(b.jsx)(y,{}),(this.state.editable||this.state.newShare)&&Object(b.jsx)(u,{handleInputChange:this.handleInputChange.bind(this),handleFormSubmit:this.handleFormSubmit.bind(this),supplement:this.state.supplement,cost:this.state.cost,servings:this.state.servings,servingsPerDay:this.state.servingsPerDay,costPerDay:this.state.costPerDay})]})]})}}]),a}(n.a.Component);a(50),a(51);r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.0da14656.chunk.js.map