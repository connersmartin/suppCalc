(this.webpackJsonpsuppCalc=this.webpackJsonpsuppCalc||[]).push([[0],{38:function(e,t,s){},69:function(e,t,s){},70:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),i=s(30),r=s.n(i),c=s(31),l=s(9),h=s(10),o=s(12),d=s(11),p=(s(38),s(8)),u=s(0),b=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.handleChange=a.handleChange.bind(Object(p.a)(a)),a}return Object(h.a)(s,[{key:"handleChange",value:function(e){this.props.handleInputChange(e.target)}},{key:"handleSubmit",value:function(e){this.props.handleFormSubmit(e)}},{key:"render",value:function(){return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(u.jsxs)("div",{className:"form-group m-1",children:[Object(u.jsx)("label",{className:"m-1",htmlFor:"supplement",children:"Supplement"}),Object(u.jsx)("input",{type:"text",className:"form-control m-1",name:"supplement",id:"supplement",placeholder:"Enter supplement name",value:this.props.supplement||"",onChange:this.handleChange})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"m-1",htmlFor:"cost",children:"Cost"}),Object(u.jsx)("input",{type:"number",className:"form-control m-1",name:"cost",id:"cost",placeholder:"Enter cost of supplement",value:this.props.cost||"",onChange:this.handleChange})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"m-1",htmlFor:"servings",children:"Servings"}),Object(u.jsx)("input",{type:"number",className:"form-control m-1",name:"servings",id:"servings",placeholder:"Enter number of servings",value:this.props.servings||"",onChange:this.handleChange})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"m-1",htmlFor:"servingsPerDay",children:"Servings per Day"}),Object(u.jsx)("input",{type:"number",className:"form-control m-1",name:"servingsPerDay",id:"servingsPerDay",placeholder:"Enter number of servings per day",value:this.props.servingsPerDay||"",onChange:this.handleChange})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary m-1",children:"Submit"})]})})}}]),s}(n.a.Component),j=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.handleUpdate=a.handleUpdate.bind(Object(p.a)(a)),a.handleUpdate=a.handleDelete.bind(Object(p.a)(a)),a}return Object(h.a)(s,[{key:"handleSubmit",value:function(){this.props.handleShareSubmit()}},{key:"handleChange",value:function(e){this.props.handleInputChange(e.target)}},{key:"handleUpdate",value:function(){this.props.handleShareUpdate()}},{key:"handleDelete",value:function(){this.props.handleShareDelete()}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"m-1",htmlFor:"summaryDescription",children:"Supplement List Description"}),Object(u.jsx)("input",{type:"textarea",className:"form-control m-1",name:"summaryDescription",id:"summaryDescription",placeholder:"Anything to say about this list?",value:this.props.summaryDescription||"",onChange:this.handleChange})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{className:"form-check-input m-1",type:"checkbox",name:"editable",id:"editable",value:this.props.editable,checked:this.props.editable,onChange:this.handleChange}),Object(u.jsx)("label",{className:"form-check-label",htmlFor:"editable",children:"Should this list be editable?"})]})]}),Object(u.jsxs)("div",{className:"btn-toolbar",children:[""===this.props.shareId&&Object(u.jsx)("button",{className:"btn btn-primary m-1",onClick:this.props.handleShareSubmit,children:"Create Shareable Link"}),Object(u.jsx)("span",{className:"m-1",id:"shareId",onClick:function(){navigator.clipboard.writeText(e.props.shareUrl)}})]}),""!==this.props.shareId&&Object(u.jsxs)("div",{className:"btn-toolbar",children:[Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"btn btn-warning m-1",onClick:this.props.handleShareUpdate,children:"Update Shared List"})}),this.props.editable&&Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"btn btn-danger m-1",onClick:this.props.handleShareDelete,children:"Delete Share"})})]})]})}}]),s}(n.a.Component),m=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var e=this;return Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Supplement"}),Object(u.jsx)("th",{scope:"col",children:"Cost"}),Object(u.jsx)("th",{scope:"col",children:"Number of Servings"}),Object(u.jsx)("th",{scope:"col",children:"Servings Per Day"}),Object(u.jsx)("th",{scope:"col",children:"Cost Per Day"}),Object(u.jsx)("th",{scope:"col"})]})}),Object(u.jsx)("tbody",{id:"tableBody",children:this.props.rows.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.supplement}),Object(u.jsx)("td",{children:t.cost}),Object(u.jsx)("td",{children:t.servings}),Object(u.jsx)("td",{children:t.servingsPerDay}),Object(u.jsx)("td",{children:parseFloat(t.costPerDay).toFixed(2)}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{className:"btn",onClick:function(){return e.props.editRow(t)},children:"edit"}),Object(u.jsx)("button",{type:"button",className:"btn","aria-label":"delete",onClick:function(){return e.props.handleDelete(t.id)},children:"remove"})]})]},t.id)}))}),Object(u.jsx)("tfoot",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{}),Object(u.jsx)("td",{}),Object(u.jsx)("td",{}),Object(u.jsx)("td",{children:"Total: "}),Object(u.jsxs)("td",{children:["$ ",parseFloat(this.props.total).toFixed(2)]}),Object(u.jsx)("td",{})]})})]})}}]),s}(n.a.Component),v=s(72),O=s(2),g=s(14),x=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).handleNew=a.handleNew.bind(Object(p.a)(a)),a}return Object(h.a)(s,[{key:"handleNew",value:function(){this.props.handleNewShare()}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"m-1",children:[Object(u.jsx)("h1",{children:"This calculates your daily expenditure on supplements"}),Object(u.jsx)("p",{children:"Enter in supplement cost information and click 'Add' to start your list"}),Object(u.jsx)("p",{children:"Clicking 'Create Shareable Link' will save this information and it can be shared to anyone"})]}),Object(u.jsx)("div",{children:Object(u.jsx)(g.b,{to:"/",children:Object(u.jsx)("button",{className:"btn btn-primary m-1",name:"newShare",id:"newShare",onClick:this.handleNew,children:"Create a New List"})})})]})}}]),s}(n.a.Component),y=s(45);s(64).config();var f=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).state={supplement:"",cost:0,servings:0,servingsPerDay:0,costPerDay:0,total:0,rows:[],shareId:"",shareUrl:"",editable:!1,summaryDescription:""},a}return Object(h.a)(s,[{key:"handleNewShare",value:function(){this.setState({supplement:"",cost:0,servings:0,servingsPerDay:0,costPerDay:0,total:0,rows:[],shareId:"",editable:!1,summaryDescription:""}),this.populateShare("")}},{key:"handleShareSubmit",value:function(){var e={};e.rows=this.state.rows,e.description=this.state.summaryDescription,e.editable=this.state.editable,e.id=Object(v.a)(),this.makeApi("post",e,""),this.populateShare(e.id)}},{key:"handleShareUpdate",value:function(){var e={};e.rows=this.state.rows,e.id=this.state.shareId,e.description=this.state.summaryDescription,e.editable=this.state.editable,console.log(e),this.makeApi("put",e,e.id),this.populateShare(e.id)}},{key:"handleShareDelete",value:function(){var e={};e.id=this.state.shareId,this.makeApi("delete",null,e.id)}},{key:"handleInputChange",value:function(e){var t="checkbox"===e.type?e.checked:e.value,s=e.name;this.setState(Object(c.a)({},s,t))}},{key:"handleFormSubmit",value:function(e){e.preventDefault();var t=this.calculate();this.addNewRow(),this.setState({total:this.state.total+t,supplement:"",cost:0,servings:0,servingsPerDay:0})}},{key:"populateShare",value:function(e){var t,s=document.getElementById("shareId");""!==e&&(t=window.location.hostname,s.innerText="".concat(t,"/").concat(e)),this.setState({shareId:e,shareUrl:"".concat(t,"/").concat(e)})}},{key:"editRow",value:function(e){var t=this.state.rows;t=t.filter((function(t){return t.id!==e.id})),this.setState({supplement:e.supplement,cost:e.cost,servings:e.servings,servingsPerDay:e.servingsPerDay,rows:t,total:this.getSum(t)})}},{key:"handleDelete",value:function(e){var t=this.state.rows;t=t.filter((function(t){return t.id!==e})),this.setState({rows:t,total:this.getSum(t)})}},{key:"addNewRow",value:function(){var e=this.state.rows;e.push({id:Object(v.a)(),supplement:this.state.supplement,cost:this.state.cost,servings:this.state.servings,servingsPerDay:this.state.servingsPerDay,costPerDay:this.calculate()}),this.setState({rows:e})}},{key:"calculate",value:function(){return parseFloat(this.state.cost)/parseFloat(this.state.servings)*parseFloat(this.state.servingsPerDay)}},{key:"getSum",value:function(e){var t=0;return e.length>0&&e.forEach((function(e){return t+=e.costPerDay})),t}},{key:"makeApi",value:function(e,t,s){var a;null!==t&&(a=JSON.stringify(t));var n="https://supp-api.herokuapp.com/share";""!==s&&(n="".concat(n,"/").concat(s)),y({method:e,url:n,headers:{"Content-Type":"application/json"},data:a}).then((function(e){})).catch((function(e){console.log(e)}))}},{key:"handleApiResponse",value:function(e){if(e){var t=e.rows.map((function(e){return{id:e.id,supplement:e.supplement,cost:e.cost,servings:e.servings,servingsPerDay:e.servingsPerDay,costPerDay:e.costPerDay}}));this.setState({editable:e.editable,summaryDescription:e.description,rows:t,total:this.getSum(t)}),this.populateShare(e.id)}}},{key:"componentDidMount",value:function(){var e=this;"/"!==this.props.location.pathname&&fetch("".concat("https://supp-api.herokuapp.com/share").concat(this.props.location.pathname)).then((function(e){return e.json()})).then((function(t){e.handleApiResponse(t)}),(function(e){}))}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{handleNewShare:this.handleNewShare.bind(this)}),Object(u.jsx)(b,{handleInputChange:this.handleInputChange.bind(this),handleFormSubmit:this.handleFormSubmit.bind(this),supplement:this.state.supplement,cost:this.state.cost,servings:this.state.servings,servingsPerDay:this.state.servingsPerDay,costPerDay:this.state.costPerDay}),Object(u.jsx)(m,{total:this.state.total,rows:this.state.rows,editRow:this.editRow.bind(this),handleDelete:this.handleDelete.bind(this)}),Object(u.jsx)(j,{rows:this.state.rows,handleShareSubmit:this.handleShareSubmit.bind(this),handleInputChange:this.handleInputChange.bind(this),handleShareUpdate:this.handleShareUpdate.bind(this),handleShareDelete:this.handleShareDelete.bind(this),shareId:this.state.shareId,shareUrl:this.state.shareUrl,summaryDescription:this.state.summaryDescription,editable:this.state.editable})]})}}]),s}(n.a.Component),S=Object(O.f)(f),D=(s(68),s(69),function(){return Object(u.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(u.jsx)("span",{className:"navbar-brand",children:"SuppCalc"}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})})]})}),k=function(){return Object(u.jsx)("div",{className:"footer",children:Object(u.jsx)("p",{children:"Supplement Api Calculator By Conner \xa9 2021"})})},C=function(){return Object(u.jsxs)(g.a,{children:[Object(u.jsx)(D,{}),Object(u.jsxs)(O.c,{children:[Object(u.jsx)(O.a,{path:"/",component:S}),Object(u.jsx)(O.a,{path:"/:id",component:S})]}),Object(u.jsx)(k,{})]})};r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.b5552e2d.chunk.js.map