(this.webpackJsonpsuppCalc=this.webpackJsonpsuppCalc||[]).push([[0],{38:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),i=a(30),r=a.n(i),c=a(31),l=a(9),h=a(10),o=a(4),d=a(12),p=a(11),u=(a(38),a(0)),b=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleSubmit=s.handleSubmit.bind(Object(o.a)(s)),s.handleChange=s.handleChange.bind(Object(o.a)(s)),s}return Object(h.a)(a,[{key:"handleChange",value:function(e){this.props.handleInputChange(e.target)}},{key:"handleSubmit",value:function(e){this.props.handleFormSubmit(e)}},{key:"render",value:function(){return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(u.jsxs)("div",{className:"form-group m-1",children:[Object(u.jsx)("label",{className:"m-1",htmlFor:"supplement",children:"Supplement"}),Object(u.jsx)("input",{type:"text",className:"form-control m-1",name:"supplement",id:"supplement",placeholder:"Enter supplement name",value:this.props.supplement||"",onChange:this.handleChange})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"m-1",htmlFor:"cost",children:"Cost"}),Object(u.jsx)("input",{type:"number",className:"form-control m-1",name:"cost",id:"cost",placeholder:"Enter cost of supplement",value:this.props.cost||"",onChange:this.handleChange})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"m-1",htmlFor:"servings",children:"Servings"}),Object(u.jsx)("input",{type:"number",className:"form-control m-1",name:"servings",id:"servings",placeholder:"Enter number of servings",value:this.props.servings||"",onChange:this.handleChange})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"m-1",htmlFor:"servingsPerDay",children:"Servings per Day"}),Object(u.jsx)("input",{type:"number",className:"form-control m-1",name:"servingsPerDay",id:"servingsPerDay",placeholder:"Enter number of servings per day",value:this.props.servingsPerDay||"",onChange:this.handleChange})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary m-1",children:"Submit"})]})})}}]),a}(n.a.Component),j=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleSubmit=s.handleSubmit.bind(Object(o.a)(s)),s.handleChange=s.handleChange.bind(Object(o.a)(s)),s.handleUpdate=s.handleUpdate.bind(Object(o.a)(s)),s.handleUpdate=s.handleDelete.bind(Object(o.a)(s)),s}return Object(h.a)(a,[{key:"handleSubmit",value:function(){this.props.handleShareSubmit()}},{key:"handleChange",value:function(e){this.props.handleInputChange(e.target)}},{key:"handleUpdate",value:function(){this.props.handleShareUpdate()}},{key:"handleDelete",value:function(){this.props.handleShareDelete()}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"m-1",htmlFor:"summaryDescription",children:"Supplement List Description"}),Object(u.jsx)("input",{type:"textarea",className:"form-control m-1",name:"summaryDescription",id:"summaryDescription",placeholder:"Anything to say about this list?",value:this.props.summaryDescription||"",onChange:this.handleChange})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{className:"form-check-input m-1",type:"checkbox",name:"editable",id:"editable",value:this.props.editable,checked:this.props.editable,onChange:this.handleChange}),Object(u.jsx)("label",{className:"form-check-label",htmlFor:"editable",children:"Should this list be editable?"})]})]}),Object(u.jsxs)("div",{className:"btn-toolbar",children:[""===this.props.shareId&&Object(u.jsx)("button",{className:"btn btn-primary m-1",onClick:this.props.handleShareSubmit,children:"Create Shareable Link"}),Object(u.jsx)("span",{className:"m-1",id:"shareId",onClick:function(){navigator.clipboard.writeText(e.props.shareUrl)}})]}),""!==this.props.shareId&&Object(u.jsxs)("div",{className:"btn-toolbar",children:[Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"btn btn-warning m-1",onClick:this.props.handleShareUpdate,children:"Update Shared List"})}),this.props.editable&&Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"btn btn-danger m-1",onClick:this.props.handleShareDelete,children:"Delete Share"})})]})]})}}]),a}(n.a.Component),m=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Supplement"}),Object(u.jsx)("th",{scope:"col",children:"Cost"}),Object(u.jsx)("th",{scope:"col",children:"Number of Servings"}),Object(u.jsx)("th",{scope:"col",children:"Servings Per Day"}),Object(u.jsx)("th",{scope:"col",children:"Cost Per Day"}),Object(u.jsx)("th",{scope:"col"})]})}),Object(u.jsx)("tbody",{id:"tableBody",children:this.props.rows.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.supplement}),Object(u.jsx)("td",{children:t.cost}),Object(u.jsx)("td",{children:t.servings}),Object(u.jsx)("td",{children:t.servingsPerDay}),Object(u.jsx)("td",{children:parseFloat(t.costPerDay).toFixed(2)}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{className:"btn",onClick:function(){return e.props.editRow(t)},children:"edit"}),Object(u.jsx)("button",{type:"button",className:"btn","aria-label":"delete",onClick:function(){return e.props.handleDelete(t.id)},children:"remove"})]})]},t.id)}))}),Object(u.jsx)("tfoot",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{}),Object(u.jsx)("td",{}),Object(u.jsx)("td",{}),Object(u.jsx)("td",{children:"Total: "}),Object(u.jsxs)("td",{children:["$ ",parseFloat(this.props.total).toFixed(2)]}),Object(u.jsx)("td",{})]})})]})}}]),a}(n.a.Component),v=a(72),O=a(2),g=a(14),y=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleNew=s.handleNew.bind(Object(o.a)(s)),s.handleGet=s.handleGet.bind(Object(o.a)(s)),s.handleChange=s.handleChange.bind(Object(o.a)(s)),s}return Object(h.a)(a,[{key:"handleNew",value:function(){this.props.handleNewShare()}},{key:"handleGet",value:function(){this.props.handleGetShare()}},{key:"handleChange",value:function(e){this.props.handleInputChange(e.target)}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"m-1",children:[Object(u.jsx)("h1",{children:"This calculates your daily expenditure on supplements"}),Object(u.jsx)("p",{children:"Enter in supplement cost information and click 'Add' to start your list"}),Object(u.jsx)("p",{children:"Clicking 'Create Shareable Link' will save this information and it can be shared to anyone"})]}),Object(u.jsx)("div",{children:Object(u.jsx)(g.b,{to:"/",children:Object(u.jsx)("button",{className:"btn btn-primary m-1",name:"newShare",id:"newShare",onClick:this.handleNew,children:"Create a New List"})})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"m-1",htmlFor:"shareId",children:"Find a list"}),Object(u.jsx)("input",{type:"test",className:"form-control m-1",name:"shareId",id:"shareId",placeholder:"Enter a Share Id",value:this.props.shareId||"",onChange:this.handleChange}),Object(u.jsx)("button",{className:"btn btn-primary m-1",name:"getShare",id:"getShare",onClick:this.handleGet,children:"Get This Share"})]})]})}}]),a}(n.a.Component),S=a(45);a(64).config();var x=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleApiResponse=s.handleApiResponse.bind(Object(o.a)(s)),s.makeApi=s.makeApi.bind(Object(o.a)(s)),s.state={supplement:"",cost:0,servings:0,servingsPerDay:0,costPerDay:0,total:0,rows:[],shareId:"",shareUrl:"",editable:!1,summaryDescription:""},s}return Object(h.a)(a,[{key:"handleNewShare",value:function(){this.setState({supplement:"",cost:0,servings:0,servingsPerDay:0,costPerDay:0,total:0,rows:[],shareId:"",editable:!1,summaryDescription:""}),this.populateShare("")}},{key:"handleShareSubmit",value:function(){var e={};e.rows=this.state.rows,e.description=this.state.summaryDescription,e.editable=this.state.editable,e.id=Object(v.a)(),this.makeApi("post",e,""),this.populateShare(e.id)}},{key:"handleShareUpdate",value:function(){var e={};e.rows=this.state.rows,e.id=this.state.shareId,e.description=this.state.summaryDescription,e.editable=this.state.editable,console.log(e),this.makeApi("put",e,e.id),this.populateShare(e.id)}},{key:"handleGetShare",value:function(){var e=this.state.shareId;this.makeApi("get",null,e)}},{key:"handleShareDelete",value:function(){var e={};e.id=this.state.shareId,this.makeApi("delete",null,e.id)}},{key:"handleInputChange",value:function(e){var t="checkbox"===e.type?e.checked:e.value,a=e.name;this.setState(Object(c.a)({},a,t))}},{key:"handleFormSubmit",value:function(e){e.preventDefault();var t=this.calculate();this.addNewRow(),this.setState({total:this.state.total+t,supplement:"",cost:0,servings:0,servingsPerDay:0})}},{key:"populateShare",value:function(e){var t,a=document.getElementById("shareId");""!==e&&(t=window.location.hostname,a.innerText="".concat(t,"/").concat(e)),this.setState({shareId:e,shareUrl:"".concat(t,"/").concat(e)})}},{key:"editRow",value:function(e){var t=this.state.rows;t=t.filter((function(t){return t.id!==e.id})),this.setState({supplement:e.supplement,cost:e.cost,servings:e.servings,servingsPerDay:e.servingsPerDay,rows:t,total:this.getSum(t)})}},{key:"handleDelete",value:function(e){var t=this.state.rows;t=t.filter((function(t){return t.id!==e})),this.setState({rows:t,total:this.getSum(t)})}},{key:"addNewRow",value:function(){var e=this.state.rows;e.push({id:Object(v.a)(),supplement:this.state.supplement,cost:this.state.cost,servings:this.state.servings,servingsPerDay:this.state.servingsPerDay,costPerDay:this.calculate()}),this.setState({rows:e})}},{key:"calculate",value:function(){return parseFloat(this.state.cost)/parseFloat(this.state.servings)*parseFloat(this.state.servingsPerDay)}},{key:"getSum",value:function(e){var t=0;return e.length>0&&e.forEach((function(e){return t+=e.costPerDay})),t}},{key:"makeApi",value:function(e,t,a){var s,n=this;null!==t&&(s=JSON.stringify(t));var i=Object({NODE_ENV:"production",PUBLIC_URL:"/suppCalc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASEURL;""!==a&&(i="".concat(i,"/").concat(a)),S({method:e,url:i,headers:{"Content-Type":"application/json"},data:s}).then((function(t){if("get"===e){var a=t.data;n.handleApiResponse(a)}})).catch((function(e){console.log(e)}))}},{key:"handleApiResponse",value:function(e){if(e){var t=e.rows.map((function(e){return{id:e.id,supplement:e.supplement,cost:e.cost,servings:e.servings,servingsPerDay:e.servingsPerDay,costPerDay:e.costPerDay}}));this.setState({editable:e.editable,summaryDescription:e.description,rows:t,total:this.getSum(t)}),this.populateShare(e.id)}}},{key:"componentDidMount",value:function(){var e=this;"/"!==this.props.location.pathname&&fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/suppCalc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASEURL).concat(this.props.location.pathname)).then((function(e){return e.json()})).then((function(t){e.handleApiResponse(t)}),(function(e){}))}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(y,{handleNewShare:this.handleNewShare.bind(this),handleGetShare:this.handleGetShare.bind(this),handleInputChange:this.handleInputChange.bind(this),shareId:this.state.shareId}),Object(u.jsx)(b,{handleInputChange:this.handleInputChange.bind(this),handleFormSubmit:this.handleFormSubmit.bind(this),supplement:this.state.supplement,cost:this.state.cost,servings:this.state.servings,servingsPerDay:this.state.servingsPerDay,costPerDay:this.state.costPerDay}),Object(u.jsx)(m,{total:this.state.total,rows:this.state.rows,editRow:this.editRow.bind(this),handleDelete:this.handleDelete.bind(this)}),Object(u.jsx)(j,{rows:this.state.rows,handleShareSubmit:this.handleShareSubmit.bind(this),handleInputChange:this.handleInputChange.bind(this),handleShareUpdate:this.handleShareUpdate.bind(this),handleShareDelete:this.handleShareDelete.bind(this),shareId:this.state.shareId,shareUrl:this.state.shareUrl,summaryDescription:this.state.summaryDescription,editable:this.state.editable})]})}}]),a}(n.a.Component),f=Object(O.f)(x),C=(a(68),a(69),function(){return Object(u.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(u.jsx)("span",{className:"navbar-brand",children:"SuppCalc"}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})})]})}),D=function(){return Object(u.jsxs)(g.a,{children:[Object(u.jsx)(C,{}),Object(u.jsxs)(O.c,{children:[Object(u.jsx)(O.a,{path:"/",component:f}),Object(u.jsx)(O.a,{path:"/:id",component:f})]})]})};r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(D,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.3bf5568d.chunk.js.map